<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<title>Ajax with JQuery</title>
</head>
<body>
	<form action="#">
		<input type="text" name="search">
		<button>Rechercher</button>
	</form>
	<ul id="videos">
		<li class="template">
			<strong><a class="lien" href="#"><span class="titre">Le titre</span></a></strong>
			<p class="resume">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laborum, molestias! Optio quibusdam excepturi, beatae ipsam cum voluptatem ab amet officiis sit incidunt ad rerum soluta, non eius expedita fugit eaque.</p>
			<img class="affiche" src="http://placehold.it/600x300" >
		</li>
	</ul>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.1/jquery.min.js"></script>
	<script>
		$(function(){
			
			$('form').submit(function(e){
				e.preventDefault();
				$.ajax({
	        method: 'GET',
	        url: 'https://www.googleapis.com/youtube/v3/search?',
	        data: { 
	        	part: 'snippet',
	        	q : $('input[name="search"]').val(),
	        	maxResults: 25,
	        	key: 'AIzaSyAyLf-DYjrAoAeOTjE0FUpow7dA1yXqPO4'
	        },
	        dataType: 'jsonp',
					success: afficher
				});
			});


			
			function afficher(data){

				var parent = $('ul#videos');
				var template = parent.find('.template'); 
				parent.empty();

				var data = data.items;	
				var items = [];
        for (item in data) {

	 				var titre = data[item].snippet.title;
					var href = "https://youtu.be/" + data[item].id.videoId;
					var resume = data[item].snippet.description;
					var affiche = data[item].snippet.thumbnails.default.url;
					
					var video = template.clone();

					video.find('.titre').html(titre);
					video.find('a').attr('href', href);
					video.find('.resume').html(resume);
					video.find('.affiche').attr('src', affiche);

				  parent.append(video);
        }

			}
			
		});	
	</script>
</body>
</html>